@model List<EquipmentStore.Web.Models.MachineViewModel>

@{
	ViewBag.Title = "Оборудование";
}

<div class="row">
    @if (Model.Count > 0)
    {
        foreach (var machine in Model)
        {
            string imageSource = null;

            if (machine.ImageData != null)
            {
                var base64 = Convert.ToBase64String(machine.ImageData.Data);
                imageSource = $"data:{machine.ImageData.MimeType};base64,{base64}";
            }

            <div class="col-lg-6 text-center">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h5>@machine.Name</h5>
                    </div>

                    <div class="panel-body">
                        <img src="@imageSource" class="img-responsive" alt="@machine.Name" />
                    </div>

                    <div class="panel-footer">
                        <p>@machine.ShortDescription</p>
                        <p>@Html.ActionLink("Узнать больше", "Read", "Machine", new { id = machine.Id }, new { @class = "btn btn-default" })</p>
                    </div>
                </div>
            </div> }
    }
    else
    {
        <p class="text-center">Данная категория пуста</p>
    }
</div>